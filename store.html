<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gauri Creations ‚Ä¢ Store</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0071e3">
<link rel="icon" href="favicon.ico" type="image/x-icon">

<style>
  :root{ --bg-grad: linear-gradient(135deg,#e3f2ff,#ffe5f3); --accent-grad: linear-gradient(135deg,#2563eb,#ec4899); --primary: #0071e3; }
  body{ margin:0;min-height:100vh;font-family:'Poppins',sans-serif; background:var(--bg-grad);padding:15px; display:flex;justify-content:center; }
  .shell{width:100%;max-width:1150px; padding-bottom: 60px;}

  /* ANIMATIONS */
  .menu-btn, .cat-chip, .btn-primary, .btn-icon, .product-card, .header-row { transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1); }
  
  .header-row:hover { transform: translateY(-2px); }
  .menu-btn:hover { transform: scale(1.1); }
  .menu-btn:active { transform: scale(0.95); }
  .cat-chip:hover { transform: scale(1.1); background:#fff; }
  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(37,99,235,0.3); }
  .btn-icon:hover { transform: scale(1.2) rotate(-5deg); }
  
  .product-card:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,0,0,0.15); z-index: 10; }
  .product-card:active { transform: scale(0.98); }

  /* HEADER */
  .header-row { position: sticky; top: 10px; z-index: 500; display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.95); padding: 12px 16px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.6); box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 16px; backdrop-filter: blur(10px); }
  .brand { display: flex; align-items: center; gap: 12px; }
  .brand-logo { width: 45px; height: 45px; min-width: 45px; border-radius: 8px; object-fit: contain; background: white; }
  
  .menu-btn { background: var(--accent-grad); color: #fff; padding: 8px 14px; border-radius: 99px; font-weight: 600; border: none; cursor: pointer; white-space: nowrap; }
  .menu-list{ display:none; position:absolute; top:70px; right:0; background:white; border-radius:12px; min-width:180px; box-shadow:0 15px 40px rgba(0,0,0,0.25); overflow:hidden; z-index: 600; }
  .menu-list a{ display:block;padding:12px 16px;text-decoration:none; color:#333; border-bottom:1px solid #eee; }
  .menu-list a:hover{ background:#f0f9ff; color: var(--primary); padding-left: 20px; transition: 0.2s; }

  /* NEW HERO SECTION STYLES (Added for your snippet) */
  .hero { display: flex; gap: 16px; margin-bottom: 20px; }
  .hero-main { flex: 2; background: rgba(255,255,255,0.8); padding: 24px; border-radius: 18px; display: flex; flex-direction: column; align-items: center; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border:1px solid rgba(255,255,255,0.6); }
  .hero-side { flex: 1; background: var(--accent-grad); color: white; padding: 24px; border-radius: 18px; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
  .hero-title { font-size: 24px; font-weight: 800; margin-bottom: 5px; color: #333; }
  .hero-sub { color: #666; font-size: 14px; }
  #summaryTotal { font-size: 42px; font-weight: 800; line-height: 1.2; }
  
  @media(max-width: 700px) { .hero { flex-direction: column; } .hero-side { padding: 15px; flex-direction: row; justify-content: space-between; } }

  /* FILTER & GRID */
  #searchInput { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #cbd5e1; margin-bottom: 12px; box-sizing: border-box; transition:0.3s; }
  #searchInput:focus { border-color: var(--primary); transform: scale(1.01); outline: none; }
  .category-bar { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; margin-bottom: 15px; }
  .cat-chip { background: rgba(255,255,255,0.8); border: 1px solid #e2e8f0; padding: 8px 16px; border-radius: 99px; font-size: 13px; cursor: pointer; white-space: nowrap; }
  .cat-chip.active { background: var(--primary); color: white; }

  .grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:14px; }
  .product-card{ border-radius:16px; background:rgba(255,255,255,0.9); border:1px solid rgba(255,255,255,0.6); padding:10px; display:flex; flex-direction:column; gap:8px; position:relative; }
  .product-img-wrap{ border-radius:12px; overflow:hidden; background:#f1f5f9; height:150px; display:flex; align-items:center; justify-content:center; }
  .product-img{ width:100%; height:100%; object-fit:cover; }
  
  .wish-btn{ position:absolute; top:8px; right:8px; background:rgba(255,255,255,0.9); border-radius:50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; cursor:pointer; font-size:14px; transition:0.2s; z-index: 5; }
  .wish-btn:hover { transform: scale(1.2); }
  .btn-primary{ width: 100%; background:var(--accent-grad); color:#fff; border-radius:10px; padding:10px; border:none; font-weight:600; cursor:pointer; margin-top: auto; }

  /* SOCIAL */
  .social-footer { margin-top: 40px; display: flex; justify-content: center; gap: 20px; }
  .btn-icon { width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; box-shadow: 0 6px 15px rgba(0,0,0,0.2); text-decoration: none; }
  .btn-icon svg { width: 30px; height: 30px; fill: white; }
  .wa-bg { background-color: #25D366; }
  .ig-bg { background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); }
</style>
</head>

<body>
<div class="shell">
  <div class="header-row">
    <div class="brand">
      <img src="https://drive.google.com/uc?export=view&id=1bvvQqz5ncZIaGNseIAmCXIhlgKf9SqbQ" class="brand-logo" alt="Logo">
      <div>
        <div style="font-weight:800; font-size:18px; line-height:1.2">Gauri Creations</div>
        <div style="font-size:12px; color:#555">Welcome</div>
      </div>
    </div>
    <button class="menu-btn" onclick="toggleMenu()">‚ò∞ Menu</button>
    <div id="menuList" class="menu-list">
      <a href="store.html">üè† Home</a>
      <a href="my-orders.html">üì¶ My Orders</a>
      <a href="track.html">üöö Track Parcel</a>
      <a href="https://wa.me/917745092723">üí¨ Support</a>
      <a href="#" onclick="logoutUser()" style="color:red">üö™ Logout</a>
    </div>
  </div>

  <section class="hero">
    <div class="hero-main">
      <img src="https://drive.google.com/uc?export=view&id=1bvvQqz5ncZIaGNseIAmCXIhlgKf9SqbQ" style="width:100px; height:100px; object-fit:contain; border-radius:10px; margin-bottom:10px;">
      <div class="hero-title" id="welcomeText">Gauri Creations Store</div>
      <div class="hero-sub">Discover exclusive handcrafted designs‚Ä¶</div>
    </div>
    <aside class="hero-side">
      <div style="font-size:14px; opacity:0.9;">Total Products</div>
      <div id="summaryTotal">...</div>
    </aside>
  </section>

  <div class="filters">
    <input id="searchInput" placeholder="Search products..." onkeyup="filterProducts()">
    <div id="categoryBar" class="category-bar"></div>
  </div>

  <div id="grid" class="grid"></div>
  
  <div class="social-footer">
    <a href="https://wa.me/917745092723" class="btn-icon wa-bg"><svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg></a>
    <a href="https://instagram.com/gauri_creations4" class="btn-icon ig-bg">
      <svg viewBox="0 0 24 24"><path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z" fill="white"/></svg>
    </a>
  </div>
</div>

<script>
if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyGE0vN4yxngAyqooJAnULrBQbbNc6kyluYSg7JgydWeJ5481HmsFxVgC8kCWBvE3Wq/exec";

function toggleMenu(){ const m=document.getElementById("menuList"); m.style.display = m.style.display==="block"?"none":"block"; }
function logoutUser(){ localStorage.removeItem("gc_customer"); window.location.href="login.html"; }
function getWishlist(){ return JSON.parse(localStorage.getItem("gc_wishlist")||"[]"); }
function toggleWishlist(sku,el){
  let list=getWishlist();
  if(list.includes(sku)){ list=list.filter(s=>s!==sku); el.textContent="ü§ç"; }
  else{ list.push(sku); el.textContent="‚ù§Ô∏è"; }
  localStorage.setItem("gc_wishlist",JSON.stringify(list));
}
function getImg(p){
  let url = p["Image URL 1"] || p.imageUrl1 || p.Image || "";
  if(!url && p) Object.keys(p).forEach(k=>{ if(k.toLowerCase().includes("image") && p[k]) url=p[k]; });
  if(url && url.includes("drive.google.com") && url.includes("id=")){ const m=url.match(/id=([^&]+)/); if(m) return "https://lh3.googleusercontent.com/d/"+m[1]; }
  return url || "https://placehold.co/400x300?text=No+Image";
}

let allProducts=[];
let activeCategory='All';

fetch(SCRIPT_URL+"?action=getProducts").then(r=>r.json()).then(d=>{
  allProducts=d.products||[];
  render(allProducts);
  setupCats();
  
  // Update the summary count in your new hero section
  document.getElementById("summaryTotal").textContent = allProducts.length;
});

function setupCats(){
  const cats=['All',...new Set(allProducts.map(p=>p.Category||p.category||'Other'))];
  const bar=document.getElementById("categoryBar");
  cats.forEach(c=>{
    const d=document.createElement("div"); d.className="cat-chip"; d.textContent=c;
    d.onclick=()=>{ document.querySelectorAll('.cat-chip').forEach(b=>b.classList.remove('active')); d.classList.add('active'); activeCategory=c; filter(); };
    if(c==='All') d.classList.add('active');
    bar.appendChild(d);
  });
}

function filter(){
  const q=document.getElementById("searchInput").value.toLowerCase();
  const res=allProducts.filter(p=>{
    const cat=p.Category||p.category||"Other";
    return (activeCategory==='All' || cat===activeCategory) && (p.Name||"").toLowerCase().includes(q);
  });
  render(res);
}

function render(list){
  const grid=document.getElementById("grid"); grid.innerHTML="";
  const wl=getWishlist();
  list.forEach(p=>{
    const liked=wl.includes(p.SKU)?"‚ù§Ô∏è":"ü§ç";
    const ratingVal = p.Rating || p.rating || 0;
    const ratingHtml = ratingVal ? `<span style="font-size:12px;color:#f59e0b;font-weight:700">‚òÖ ${ratingVal}</span>` : `<span style="font-size:11px;color:#999">New</span>`;
    
    grid.innerHTML+=`
      <div class="product-card">
        <div class="product-img-wrap"><img src="${getImg(p)}" class="product-img"><div class="wish-btn" onclick="toggleWishlist('${p.SKU}',this)">${liked}</div></div>
        <strong style="font-size:14px;margin-top:5px; line-height:1.3">${p.Name}</strong>
        <div style="display:flex;justify-content:space-between;align-items:center; margin-top:5px;">
           <div style="font-weight:700; color:#e11d48">‚Çπ${p.Price}</div>
           ${ratingHtml}
        </div>
        <button class="btn-primary" onclick="location.href='product.html?sku=${encodeURIComponent(p.SKU)}'">Know More</button>
      </div>`;
  });
}
</script>
</body>
</html>
